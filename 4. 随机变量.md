
### 4.0 知识点快速一览表

- **X** - 称为 **随机变量**，将抽象的随机结果转换为 "可度量" 的数值，实现了将复杂的 **n维结果** 压缩为单一数值，突出我们**感兴趣**的随机过程特征，转化为实数使概率计算更直观，通过随机变量X，产生一个新的概率空间，随机变量记号为：X：$\Omega \rightarrow \mathbb{R}$ 

	- **每一个样本点，都有一个数轴上的点与之对应（所有情况都被数轴包含），极大的方便了概率的计算**
	- **视频**：https://www.bilibili.com/video/BV1kg4y1s7ap/?spm_id_from=333.337.search-card.all.click&vd_source=47dae7c7b06b48492621f72dfda0dd1a

			https://www.bilibili.com/video/BV1oXG9zfEYr/?spm_id_from=333.337.search-card.all.click&vd_source=47dae7c7b06b48492621f72dfda0dd1a

- **像** - $f : \Omega_1 \to \Omega_2$，集合 A 在随机变量 $f$ 下的像为 $f(A) := \{f(\omega) \in \Omega_2: \omega \in A\}$

- **原像** -  $f : \Omega_1 \to \Omega_2$，集合 B 在随机变量 $f$ 下的原像为 $f^{-1}(B) := \{\omega \in \Omega_1 : f(\omega) \in B\}$

	1.  一个 **并集** 的 **原像** 等于各个集合 **原像** 的 **并集**
	2.  一个 **交集** 的 **原像** 等于各个集合 **原像** 的 **交集**
	3.  一个集合 **补集** 的 **原像** 等于该集合 **原像** 的 **补集**

- **多维随机变量** - $X: \Omega \to (\mathbb{R}^+ × \mathbb{R}^+ × \mathbb{N} × \mathbb{R})$，其中向量 X(ω) = (x₁, x₂, x₃, x₄) ，这是一种把随机结果从 **样本空间** 映射到 **特征向量空间** 的数学方法

-  $\mathbb{P}_X$ - 称为**随机变量 X 的分布**，它是通过随机变量 X 诱导的原概率测度 $\mathbb{P}$ **在像空间上的测度**：

	1. 有$(\Omega_1,\mathcal{F}_1),(\Omega_2,\mathcal{F}_2)$
	2. $\forall B \in \mathcal{F}_2$
	3. $\mathbb{P}_x(B) = \mathbb{P}(X^{-1}(B)) \in [0,1]$
	
- **可测映射** - 在两个**可测空间** $(\Omega_1,\mathcal{F}_1)$ 和 $(\Omega_2,\mathcal{F}_2)$上有一个映射 $f : \Omega_1 \to \Omega_2$，如果 $f^{-1}(\mathcal{F}_2) \subset \mathcal{F}_1$，称 $f$ 是一个**可测映射**， 也称为$\mathcal{F}_1 - \mathcal{F}_2$ 是**可测的**。

- **像测度**：设 $(\Omega_1,\mathcal{F}_1,\mu)$ 是**测度空间**，$(\Omega_2,\mathcal{F}_2)$ 是**可测空间**，且 $f$ : Ω₁ → Ω₂ 是**可测映射**，则有**像的测度**（ $\mu$ 通过 $f$ 的像测度 ） 为：

	1. $\mu_f:\mathcal{F}_2 \to [0,\infty]$
	2. $\mu_f(B) := \mu(f^{-1}(B)), B \in \mathcal{F}_2$

- **可测性（注意这里用上了上面的可测映射的定义，可测映射也就是可测函数）**：

	1. 复合函数可测性：$f: \Omega_1 \to \Omega_2, g: \Omega_2 \to \Omega_3$ 是可测的，则复合函数 $g \circ f: \Omega_1 \to \Omega_3$ 也是可测的
	2. 设$X : \Omega \to \mathbb{R}^n$ 是一个随机变量，$g : \mathbb{R}^n \to \mathbb{R}^m$ 是可测的，则 $g \circ X:\Omega \to \mathbb{R}^m$同样是一个随机变量
	3. 设 $(\Omega,\mathcal{F})$ 是可测空间，$f,g:\Omega \to \mathbb{R}$ 是可测函数，那么 $\alpha f + \beta g$，$f \cdot g$，$f/g, g \neq 0$ 也是可测的

- **事件独立性**：

	1. **成对随机独立（A ⊥ B）** - 概率空间 $(\Omega_2,\mathcal{F},\mathbb{P})$ 中的两个事件 $A,B \in \mathcal{F}$ 满足 $\mathbb{P}(A \bigcap B) = \mathbb{P}(A) \cdot \mathbb{P}(B)$
	2. **完全独立** - 概率空间 $(\Omega_2,\mathcal{F},\mathbb{P})$ 中的事件 $A_i \in \mathcal{F}, i \in I \notin \emptyset$ 是成对独立的，且 $\mathbb{P}(\bigcap_{i \in I}A_i) = \prod_{i \in I}\mathbb{P}(A_i)$

- **集合族的独立性**：如果对于每个有限子集 $J \subset I$，对每个选择的事件 $A_j \in \mathcal{F}_j, j \in J$ 都满足独立性，那么称集合族 $\mathcal{F}_i \subset \mathcal{F}, i \in I, i \neq \emptyset$ 称为随机独立的。
	
	**举例说明**：
	
	- 假设 $I = \{1,2,3\}$，对应三个σ-代数子族 $\mathcal{F}_1, \mathcal{F}_2, \mathcal{F}_3$
	- 取 $J = \{1,2\}$（$I$ 的一个有限子集）
	- 任选 $A_1 \in \mathcal{F}_1$ 和 $A_2 \in \mathcal{F}_2$
	- 如果对于所有这样的选择，都有 $P(A_1 \cap A_2) = P(A_1) \cdot P(A_2)$

### 4.1 一个例子理解所有概念

**1. 数据采集表（真实观测）**

假设调查4名学生，记录睡眠时长（小时）和数学成绩（百分制）：

| 学生ID | 睡眠时长 $Z$ | 数学成绩 $X$ |
|--------|--------------|--------------|
| 001    | 8            | 90           |
| 002    | 7            | 85           |
| 003    | 5            | 60           |
| 004    | 6            | 70           |
**2. 构建概率模型**

**(1) 定义样本空间**

$\Omega = \{\text{001}, \text{002}, \text{003}, \text{004}\}$  （每个元素对应一个学生ID）

**(2) 定义概率测度**

采用**等概率模型**（无额外信息时默认假设）：
$$
P(\{\text{001}\}) = P(\{\text{002}\}) = P(\{\text{003}\}) = P(\{\text{004}\}) = \frac{1}{4}
$$

**(3) 定义随机变量**

- **睡眠时长** $Z: \Omega \to \{5,6,7,8\}$  
  $$Z(\text{001})=8,\ Z(\text{002})=7,\ Z(\text{003})=5,\ Z(\text{004})=6$$  
- **数学成绩** $X: \Omega \to \mathbb{R}$  
  $$X(\text{001})=90,\ X(\text{002})=85,\ X(\text{003})=60,\ X(\text{004})=70$$
**3. 可测映射与原像**

**(1) 原像计算**

- 设 $B = [80, 100]$（高分区间），则：  
  $$X^{-1}(B) = \{\omega \in \Omega \mid X(\omega) \geq 80\} = \{\text{001}, \text{002}\}$$  
- 设 $C = \{7,8\}$（充足睡眠），则：  
  $$Z^{-1}(C) = \{\omega \mid Z(\omega) \in \{7,8\}\} = \{\text{001}, \text{002}\}$$  

 **(2) 可测性验证**

对任意区间 $B \subseteq \mathbb{R}$，$X^{-1}(B)$ 都是 $\Omega$ 的子集（如$\{\text{001}\}, \{\text{001}, \text{003}\}$等），故 $X$ 是可测映射。

**4. 像测度（分布）**

**(1) 边缘分布**

- $X$ 的分布：  
  $$\mathbb{P}_X([80,100]) = P(X^{-1}([80,100])) = P(\{\text{001}, \text{002}\}) = \frac{2}{4} = 0.5$$  
- $Z$ 的分布：  
  $$\mathbb{P}_Z(\{7,8\}) = P(\{\text{001}, \text{002}\}) = 0.5$$  

**(2) 联合分布**
$$\mathbb{P}_{X,Z}([80,100] \times \{7,8\}) = P(\{\text{001}, \text{002}\}) = 0.5$$  
**5. 事件独立性检验**

定义事件：  

- $A = \{X \geq 80\}$  
- $B = \{Z \in \{7,8\}\}$  

计算：  

- $P(A) = 0.5$, $P(B) = 0.5$  
- $P(A \cap B) = P(\{\text{001}, \text{002}\}) = 0.5$  
- 检查：  
  $$P(A \cap B) = 0.5 \overset{?}{=} P(A)P(B) = 0.25$$  
  **结论**：不独立（睡眠充足与高分强相关）  

**6. 区间化概率表**

| 睡眠 $Z$ \ 成绩 $X$ | $[80,100]$ | $[0,80)$ | **行和**   |
| --------------- | ---------- | -------- | -------- |
| $\{7,8\}$       | 0.50       | 0        | **0.50** |
| $\{5,6\}$       | 0          | 0.50     | **0.50** |
| **列和**          | **0.50**   | **0.50** | **1.00** |
**关键概念总结**

| 概念       | 本例表现                                            | 数学定义                                          |
| -------- | ----------------------------------------------- | --------------------------------------------- |
| **样本空间** | 学生ID集合 $\Omega$                                 | 所有可能结果的集合                                     |
| **随机变量** | $X$（成绩）、$Z$（睡眠）                                 | 可测映射 $\Omega \to \mathbb{R}$                  |
| **原像**   | $X^{-1}([80,100]) = \{\text{001}, \text{002}\}$ | $f^{-1}(B) = \{\omega \mid f(\omega) \in B\}$ |
| **像测度**  | $\mathbb{P}_X([80,100]) = 0.5$                  | $\mathbb{P}_f(B) = P(f^{-1}(B))$              |
| **独立性**  | $P(A \cap B) \neq P(A)P(B)$                     | 变量间存在依赖关系                                     |

### 随机变量

随机变量作为事件的自然表示方法：

例子：n次连续投掷骰子可以通过基础空间 $\Omega = \{1,2,3,4,5,6\}^n$ 来建模，如果在结果中，我们只关心投出 6 的数量，那么可以通过以下映射来描述：

- X：$\Omega \rightarrow \mathbb{R}$ -- **将抽象的随机结果转换为可度量的数值**
- X：$\omega = (a_1,...,a_n) \to X(\omega) := \sum_{j = 1}^n \mathcal{1}(a_j = 6)$ -- **提供了具体的计算规则，指明如何将每个样本点ω映射到特定的实数值**

**解读**：

- 数据压缩：将复杂的n维结果压缩为单一数值
- 关注特定特征：突出我们感兴趣的随机过程特征
- 便于概率计算：转化为实数使概率计算更直观

在概率论中，随机变量被定义为**从样本空间到实数集**的映射，而不仅仅是一个"随机的数
值"

随机变量是用数字来表示随机事件结果的一种方式。比如，我们可以用X=1,2,3,4,5,6来表示掷骰子的结果，这里的X就是一个随机变量

类似的，

- Y：$\Omega \rightarrow \mathbb{R}$
- Y：$\omega = (a_1,...,a_n) \to Y(\omega) := \max(a_1,...,a_n)$ 
- $\{Y <= 3\} := \{\omega \in \Omega | Y(\omega) <= 3\}$ 简洁的表示”投掷的点数最大值最多为3“的**事件**

### 随机变量的本质

- 投掷骰子的样本空间 $\Omega = \{1,2,3,4,5,6\}$
- **定义随机变量X：判断骰子的点数是否为偶数**：$\Omega \to \{0,1\}$
- 目标空间 $\Omega^{'} = \{0,1\}$，表示**奇数和偶数** 
- 目标空间中集合 $A^{'} = \{1\}$，代表 **偶数事件**
- 原像 $X^{-1}(\{1\}) = \{\omega \in \Omega | X(\omega) = 1\} = \{2,4,6\}$

简单的说，随机变量是一个**函数映射**，**将目标空间中的一个事件映射到起始空间中的事件**

**注意**：

- ==随机变量（函数） X 将每个 $\omega$ 映射到唯一一个 $X(\omega)$，但是反之不一定成立，**因为不是一一映射的**==
- ==概率是定义在事件（集合）上的，不是定义在单个点上的，我们需要知道”随机变量取特定值集合“对应的原始事件是什么==
- ==数与其逆之间的基本不对称性==

**通常使用拉丁字母表后半部分的大写字母来表示随机变量，如Z、Y、X、W、V、U等，当随机变量取整数值时，常用N、M或L表示，不建议使用函数符号 f 或 g 表示随机变量**



我们想要指出存在大量的概率空间，可以用来模拟各种随机过程，我们看到随机变量是描述与随机过程结果相关的事件的有效工具


- **随机过程   <- 模拟 -- 大量的概率空间**
- **随机过程   <- 描述 -- 随机变量**

$(\Omega, \mathcal{A}, \mathbb{P})$ 和一个随机变量 $X:\Omega \to \Omega^{`}$ 产生一个新的概率空间

**定义**：设 (Ω₁, ℱ₁, ℙ) 是概率空间，(Ω₂, ℱ₂) 是测度空间，则 ℱ₁-ℱ₂ 可测映射 X : Ω₁ → Ω₂ 称为随机变量 (ZV)。

► 若 Ω₂ = ℝ，则 X 称为实值随机变量，  
► 若 Ω₂ = ℝ̄，则 X 称为数值随机变量，  
► 若 Ω₂ = ℝⁿ，则 X 称为 n 维实值随机变量。

- **概率空间的特殊性**：
    
    - 概率空间 (Ω₁, ℱ₁, ℙ) 是一种特殊的测度空间，其中概率测度 ℙ 满足 ℙ(Ω₁) = 1
    - 它表示随机试验的所有可能结果及其概率
    
- **目标空间的一般性**：
    
    - 随机变量的值域 Ω₂ 通常不需要概率结构，只需要可测结构
    - 我们关心的是 X 取某些值的概率，而不是 Ω₂ 上的概率分布

### 实际意义

这种定义允许我们：

1. **建立概率分布**：
    
    - 随机变量 X 将概率空间映射到测度空间，从而在目标空间上诱导出概率分布
    - 这个诱导出的概率分布称为 X 的概率分布或概率律
    
2. **分离概念层次**：
    
    - 原始空间 Ω₁ 表示"不确定性来源"（如掷骰子的所有可能结果）
    - 目标空间 Ω₂ 表示"我们关心的量"（如骰子的点数）

随机变量的定义中使用概率空间和测度空间的组合，反映了概率论是建立在测度论基础上的特殊理论。这种定义方式使我们能够将不确定性的概念（概率空间）转换为可测量的数值或结果（测度空间），从而能够进行数学分析和计算。

### 掷骰子的详细例子

**概率空间 (Ω₁, ℱ₁, ℙ)**:

- Ω₁ = {ω₁, ω₂, ω₃, ω₄, ω₅, ω₆}，表示骰子可能的6种基本结果
- ℱ₁ = 2^Ω₁，即Ω₁的所有子集构成的σ-代数
- ℙ(ωᵢ) = 1/6，为每个结果赋予相等的概率

**测度空间 (Ω₂, ℱ₂)**:

- Ω₂ = {1, 2, 3, 4, 5, 6}，表示骰子的点数
- ℱ₂ = 2^Ω₂，所有可能的点数组合

**随机变量 X**:

- X(ωᵢ) = i，将每个抽象结果映射到对应的点数

### 为什么目标空间不需要概率结构

1. **概率已被转移**:
    
    - 我们通过 X 将 Ω₁ 上的概率 ℙ "转移"到了 Ω₂ 上
    - 对于任何 B ⊆ Ω₂，我们定义 ℙₓ(B) = ℙ(X⁻¹(B))
    - 例如：ℙₓ({2, 4, 6}) = ℙ(X⁻¹({2, 4, 6})) = ℙ({ω₂, ω₄, ω₆}) = 3/6 = 1/2
    
2. **目标空间只需要可测结构**:
    
    - 我们只关心哪些集合是可测的，以便能够计算它们的概率
    - 随机变量的作用就是确保 Ω₂ 中"我们关心的集合"在 Ω₁ 中有对应的可测集合
    
3. **实际应用视角**:
    
    - 在实际中，我们经常直接使用随机变量 X 的分布 ℙₓ
    - 我们说"骰子点数为偶数的概率是 1/2"，而不是谈论抽象空间 Ω₁
    - 但从理论构建角度，X 的分布 ℙₓ 是从原始概率空间上的 ℙ 派生出来的

 **关键点**

目标空间没有自己的概率结构，是因为它并不需要一个独立的概率定义。任何我们想在目标空间计算的概率，都可以通过随机变量的反映射，转化为在原概率空间上的计算。

这种定义方式保持了概率论的数学严谨性，同时为应用提供了灵活性，使我们能够研究各种各样的随机现象，无论其取值范围是有限集合、实数区间还是更复杂的空间。

### 4.2 像

#### 4.2.1 函数映射

- $f : \Omega_1 \to \Omega_2$
- $f(\omega_1) = \omega_2, \omega_1 \in \Omega_1, \omega_2 \in \Omega_2$

#### 4.2.1 像

- 设 $f : \Omega_1 \to \Omega_2$， 那么集合 $A \subset \Omega_1$ 的像定义为：
- $f(A) := \{f(\omega) \in \Omega_2 | \omega \in A\}$

#### 4.2.3 原像

- 设 $f : \Omega_1 \to \Omega_2$， 那么集合 $B \subset \Omega_2$ 的原像定义为：
- $f^{-1}(B) := \{\omega \in \Omega_1|f(\omega) \in B\}$

注意：此处映射函数 f 不必是双射，但是必须满足对于任意的 $B, B_i \in \Omega_2, i \in I$，有：

- $f^{-1}(\bigcup_{i \in I}B_i) = \{\omega \in \Omega_1 | f(\omega) \in \bigcup_{i \in I}B_i\}$ = $\bigcup_{i \in I}f^{-1}(B_i)$
- $f^{-1}(\bigcap_{i \in I}B_i)$  = $\bigcap_{i \in I}f^{-1}(B_i)$
- $f^{-1}(B^c) = f^{-1}(B)$

原像与并集操作的关系：

- **一个并集的原像等于各个集合原像的并集**
- **一个交集的原像等于各个集合原像的交集**
- **一个集合补集的原像等于该集合原像的补集**

**集合族的原像：**

- 设 $f : \Omega_1 \to \Omega_2 \quad and \quad \mathcal{F}_2 \subset \mathcal{P}(\Omega_2)$， 那么
- $f^{-1}(\mathcal{F}_2) = \{f^{-1}(B) | B \in \mathcal{F}_2\} \subset \mathcal{P}(\Omega_1)$ 

- **集合系统的原像是由每个集合的原像组成的新集合系统**

**定理**：

- 设 $\mathcal{F}_i$ 是 $\Omega_i$ 上的 $\sigma$-代数，如果 $f : \Omega_1 \to \Omega_2$ 是一个映射，那么 $f^{-1}(\mathcal{F}_2)$ 是 $\Omega_1$ 上的 $\sigma$-代数，且 $\{B \subset \Omega_2 | f^{-1}(B) \in \mathcal{F}_1\}$ 是 $\Omega_2$ 上的  $\sigma$-代数。

- **如果原集合系统是 σ-代数，那么它的原像也是 σ-代数；反过来，所有原像属于某个 σ-代数的集合也构成一个 σ-代数**

#### 4.2.4 可测映射

**定义：** 设 (Ω₁, ℱ₁) 和 (Ω₂, ℱ₂) 是两个测度空间。一个映射 f : Ω₁ → Ω₂ 称为 ℱ₁-ℱ₂-可测的，如果f⁻¹(ℱ₂) ⊂ ℱ₁。如果相关的 σ-代数已明确知道，则简称为**可测映射 f**。

**定理**：设 (Ω₁, ℱ₁) 和 (Ω₂, ℱ₂) 是两个测度空间，其中 ℱ₂ = σ(ℰ) 是由集合系统 ℰ 生成的。

映射 f : Ω₁ → Ω₂ 是 ℱ₁-ℱ₂-可测的，当且仅当 f⁻¹(ℰ) ⊂ ℱ₁.

**解释**：这个定理提供了一个验证映射可测性的简化方法。它表明，如果第二个空间的 σ-代数是由某个集合系统生成的，那么检查映射是否可测时，不需要考虑整个 σ-代数中的所有集合，只需要检查生成这个 σ-代数的集合系统中的集合的原像是否属于第一个空间的 σ-代数。

这是一个非常实用的结果，因为在许多情况下，σ-代数是由相对简单的集合系统生成的（例如，实数上的 Borel σ-代数是由所有开区间生成的）。利用这个定理，我们可以通过只检查这些生成元的原像，大大简化可测性的验证过程。

**例子**：

- 设 (Ω, ℱ) 是测度空间，则函数 f : Ω → ℝ 是 ℱ-ℬ-可测的，当且仅当 f⁻¹((-∞, c]) = {ω ∈ Ω|f(ω) ≤ c} ∈ ℱ ∀c ∈ ℝ, 因为 (-∞, c] 构成 Borel σ-代数 ℬ 的生成系统

- 对于连续函数，有：f : ℝ → ℝ 连续 ⟺ f⁻¹(O) ∈ 𝒪 ∀O ∈ 𝒪 其中 𝒪 是 ℬ = σ(𝒪)（定义 2.18）的生成元，因此 f 是 ℬ-ℬ-可测的。

**备注**：

► 函数 f : Ω → ℝ 称为实值函数（reellwertig）
► 函数 f : Ω → ℝ̄ 称为数值函数（numerisch）
► 若 (Ω, ℱ) 是测度空间，则 f 是 ℱ-ℬ-可测的，当且仅当

{ω ∈ Ω|f(ω) ≤ c} ∈ ℱ ∀c ∈ ℝ，其中 ℬ̄ = σ(ℬ ∪ {∞} ∪ {-∞})

#### 4.2.5 像测度

定义：设 (Ω₁, ℱ₁, μ) 是测度空间，(Ω₂, ℱ₂) 是可测空间，且 f : Ω₁ → Ω₂ 是可测映射，则

$\mu_f:\mathcal{F}_2 \to [0,\infty)$
$\mu_f(B) := \mu(f^{-1}(B))$


称为 μ 通过 f 的像测度，且 $(\Omega_2,\mathcal{F}_2,\mu_f)$ 构成一个测度空间。

**通过可测映射将一个空间上的测度"推送"到另一个空间上**

**像测度的关键特征是：**

1. 对于目标空间中的任何可测集 B，其测度定义为原空间中 B 的原像的测度
2. 这保证了通过可测映射，可以将一个测度空间的结构"转移"到另一个空间

在概率论中，当 μ 是概率测度时，像测度给出了随机变量的分布。例如，当 f 是随机变量时，μf 正是这个随机变量的概率分布，描述了随机变量落在各个集合中的概率。


**举例**：

### 4.3 随机变量X的分布

在σ-代数$\mathcal{A}^{'}$上定义了一个概率测度，这被称为X的分布，X 的分布书写为 $\mathbb{P}^X$：

- $\mathcal{A}^{'} \to \mathbb{R}$
- $A^{'} \mapsto \mathbb{P}^{x}(A^{'}) := \mathbb{P}(X^{-1}(A^{'}))$

==注意：**任何概率测度都需要定义在某个 σ-代数上**。==

==事件 $A'$ 在 $\mathbb{P}^{X}$ 下的概率值等于 事件 $A'$ 的原像 $X^{-1}(A')$ 在原始概率测度 $\mathbb{P}$ 下的概率值。==

X 具有分布 Q 这个性质常常被书写为：

$X \sim Q : \Leftrightarrow \mathbb{P}^X = Q$，也成为 X 服从 Q 分布，例如 X ~ Bin(n,p)表示 X 服从参数为n和p的二项分布

关键点解析：

1. **分布的本质**：随机变量的分布是**目标空间上的一个概率测度**，它描述了随机变量取不同值的概率。
    
2. **定义方式**：对于目标空间中的任何可测集合 A，X 的值落在 A 中的概率等于原始空间中 X⁻¹(A) 的概率。
    
3. **概率转移**：这个定义正式化了我们如何从原始概率空间"转移"概率到随机变量的值域。
    
4. **性质保持**：注意到 ℙₓ 仍然是一个概率测度，即 ℙₓ(Ω₂) = 1 且 ℙₓ 满足概率测度的其他所有性质。


**定义**：随机变量 X 的分布 ℙₓ 就是**概率测度 ℙ 通过 X 的像测度**：

$\mathbb{P}_x(A) = \mathbb{P}(X^{-1}(A)) \in [0,1] \quad \forall A \in \mathcal{F}_2$

**转轮例子**：

用随机变量来描述：**定义随机变量X表示转动轮盘后获得的奖金**

- 样本空间 ：$\Omega = \{(x,y) \in \mathbb{R}^2 : x^2 + y^2 = 1\}$
- 随机变量 ：$X = \Omega \to \{1,10,100\}$
- 假定指针在圆上**均匀分布**
- 概率分布：
	1. $P_x({100}) = P((x,y) \in \Omega | x > 0,y > 0)$
	2. $P_x({10}) = P((x,y) \in \Omega | x > 0,y < 0)$
	3. $P_x({1}) = P((x,y) \in \Omega | x < 0,y < 0)$

**通过可测映射将一个空间上的测度"推送"到另一个空间上**

**二项分布例子**：

- $\mathbb{P}({\omega}) = p^k \cdot (1-p)^{n - k}$
- 记为：$X$ ~ $B(n,p)$
- 随机变量 X ：表示 n 次试验中成功的总次数
- k - n 次实验中成功了 k 次
- $\mathbb{P}_x({k})$ = $\mathbb{P}(X^{-1}({k}))$ = $\sum_{\omega \in X^{-1}({k})}\mathbb{P}({\omega})$ = $C(n,k) \cdot p^k(1-p)^{n - k}$ 

### 4.4 多维随机变量

我们"随机"从 Ω = {人₁,...,人ₙ} 中抽取一个人 ω。这里的"随机"理解为**离散均匀分布（拉普拉斯！）**，所以我们有概率空间 (Ω, P(Ω), U(Ω))。

- U(Ω) - **离散均匀测度**（**Uniform Probability Measure**），在有限的样本空间上，每个单个元素发生的概率是一样的，即：$\mathbb{P}(\{\omega\}) = \frac{1}{n}, n = |\Omega|$

**举例**：

现在我们考虑随机变量 X: Ω → (ℝ⁺ × ℝ⁺ × ℕ × ℝ)，其中向量 X(ω) = (x₁, x₂, x₃, x₄)，且：

► x₁: 此人的身高（厘米）  
► x₂: 此人的体重（公斤）  
► x₃: 此人的鞋码  
► x₄: 此人的账户余额

随机变量 XXX 提供了一个**数学模型**，把“人”映射到“**特征向量空间**”，虽然每个人的特征向量都不同，但我们研究的是这些特征的总体分布和规律。定义这样的随机变量，是为了把“**个体差异**”用概率模型统一起来，从而可以做统计和建模分析。

### 4.5 可测性

#### 4.5.1 复合函数的可测性

**定理**：

- 设 (Ω_i, ℱ_i), i = 1, 2, 3 为可测空间
-  f : Ω₁ → Ω₂ 和 g : Ω₂ → Ω₃ 是可测的
- 复合函数 g ∘ f : Ω₁ → Ω₃ 也是可测的

**备注**：

- 设 (Ω, F) 是一个可测空间
- f = (f1, ..., fn) : Ω → $R^n$
- $B^n$ 是 $\mathbb{R}^n$ 上的 Borel σ-代数
- 对于 fi，如果 $F-B$ 是可测的，则 f 是 $F - B^n$ 可测的
- 这是多维可测函数的一个基本性质
- 简单说：**当每个分量函数可测时，向量函数也是可测的**

**注解**：如果 **对于任何B中的集合**，其原像$f^{-1}(B)$ 属于F，称函数 f 是 F - B 可测。

**举例**：

- 考虑一个投掷两个筛子的实验，$\Omega = {(i,j) | i,j \in \{1,2,3,4,5,6\}}$ 表示两个骰子的所有可能结果
- $\mathcal{F} = P(\Omega)$ 是所有可能的事件集合
- 定义两个函数：
	1. $f_1(i,j) = i + j$ 
	2. $f_2(i,j) = i * j$ 
- 让我们定义一个向量函数：$f = (f_1,f_2) : \Omega \to \mathbb{R}^2$，它将实验结果映射到二维平面上的点
- 验证$f_1$是F - B的可测性：A = {1}， $f^{-1}(\{7\}) = \{(1,6),(5,2),...,(3,4)\}$，同理$f_2$也是F - B可测
- 验证$f = (f_1,f_2)$ 是 $F - B^2$ 可测的：对于 C = {(7,12)}，不难看出 $f^{-1}(C) = \{(4,3), (3,4)\} \in \mathcal{F}$ 

#### 4.5.2 随机变量的函数可测性

- 设 X : Ω → ℝⁿ 是一个随机变量，且 g : ℝⁿ → ℝᵐ 是可测的
- 那么  g ∘ X : Ω → ℝᵐ 同样是一个随机变量

#### 4.5.3 运算符可测性

- 设 (Ω, ℱ) 为可测空间
- f, g : Ω → ℝ 为可测函数
- 且 α, β ∈ ℝ，那么以下函数也是可测的：  
	a) αf + βg  
	b) f · g  
	c) f/g，若对所有 Ω ∈ Ω 有 g(Ω) ≠ 0
### 4.6 独立性
#### 4.6.1 事件独立性

**A）成对 独立**

概率空间 (Ω, ℱ, ℙ) 中的两个事件 A, B ∈ ℱ 称为 **成对随机独立** 的条件：

			$\mathbb{P}(A \bigcap B) = \mathbb{P}(A) \cdot \mathbb{P}(B)$

记号为：**A ⊥ B**

**举例**：投掷两个骰子，A - 第一次投掷出偶数，B - 第二次投掷出偶数，C - 两次投掷和为偶数

**A := {2,4,6} X {1,2,3,4,5,6}**
**B := {1,2,3,4,5,6} X {2,4,6}**
**C := {2,4,6} X {2,4,6} ∪ {1,3,5} X {1,3,5}**

**A ∩ C := {2,4,6} X {2,4,6} + 空集 = {2,4,6} X {2,4,6}**

**P(A) = P(B) = 1/2**
**P(A ∩ B) = P(A)P(B) = 1/2 * 1/2 = 1/4**

**B）完全 独立**

概率空间 (Ω, ℱ, ℙ) 中的事件 $A_i \in \mathcal{F}, i \in I \quad != \emptyset$ 称为 **完全独立** 的条件：

$\forall_{i != j} A_i,A_j$ 是成对独立的，且 $\mathbb{P}(\bigcap_{i \in I}A_i) = \prod_{i \in I}\mathbb{P}(A_i)$

 **定理**

a) $A,B$ 是随机独立的，P(B) > 0 ⇐⇒ P(A|B) = P(A)

b) $A,B$ 是随机独立的 ⇐⇒ $A,B^c$ 是随机独立的

#### 4.6.2 集合系统的独立性

**定义-1**：如果对于每个有限子集 $J \subset I$，对每个选择的事件 $A_j \in \mathcal{F}_j, j \in J$ 都满足独立性，那么称集合族 $\mathcal{F}_i \subset \mathcal{F}, i \in I, i \neq \emptyset$ 称为随机独立的。

**?????? 定义-2**：在概率空间 (Ω, ℱ, ℙ) 上，一族随机变量 $X_i : \Omega \to \Omega_i, i \in I$ ，称为随机独立的，如果**由这些随机变量生成的 σ-代数族**：$\sigma(X_i) = \sigma(X_i^{-1}(\mathcal{F}_i)),i \in I$ 是随机独立的。

**备注**：对于 $(\mathbb{R}, \mathcal{B}, \mathbb{P})$ 上的随机变量 $X_1,...,X_n$：

$X_1,...,X_n$ 随机独立 $\Leftrightarrow$ $\mathbb{P}(X_1 \in B_1,...,X_n \in B_n) = \prod_{i=1}^n \mathbb{P}(X_i \in B_i)$ 对所有 $B_i \in \mathcal{B}$ 成立

**解释**：

- **对于离散随机变量**：
    
    - $P(x_1, x_2, ..., x_n)$ 表示随机变量 $X_1, X_2, ..., X_n$ 分别取值为 $x_1, x_2, ..., x_n$ 的概率
    - 即：$P(x_1, x_2, ..., x_n) = P(X_1 = x_1, X_2 = x_2, ..., X_n = x_n)$
    
- **对于连续随机变量**：
    
    - $f(x_1, x_2, ..., x_n)$ 表示**联合概率密度函数**
    - 概率计算：$P(X_1 \in A_1, X_2 \in A_2, ..., X_n \in A_n) = \int_{A_1}\int_{A_2}...\int_{A_n} f(x_1, x_2, ..., x_n) dx_n...dx_2dx_1$
    - 有时候也会用 $P(x_1, x_2, ...)$ 来非正式地表示联合密度函数
    
- **对于随机变量的混合类型**：
    
    - 可以有一部分随机变量为离散型，一部分为连续型
    - 此时联合分布需要用更复杂的数学工具描述（如测度论）

**为什么我们经常不把随机变量当作函数来讨论？**

虽然随机变量在数学上是函数，但在概率论和统计学的实践中，我们通常关注的是：

1. **随机变量的分布**：我们更关心随机变量取各个值的概率，而不是它作为函数的具体映射规则
    
2. **简化表示**：当我们写 $P(X = x)$ 时，严格来说应该是 $P({\omega \in \Omega : X(\omega) = x})$，但前者更简洁
    
3. **概念抽象**：在应用中，样本空间 $\Omega$ 常常是抽象的，我们不需要明确它的结构，只需关注随机变量的分布特性

**举例**：

考虑单位正方形 $[0,1] \times [0,1]$ 上的随机点 $(X,Y)$，其中 $X$ 和 $Y$ 是定义在 $(\mathbb{R}, \mathcal{B}, \mathbb{P})$ 上的随机变量，表示点的坐标。

当 $(X,Y)$ 在正方形上均匀分布时，$X$ 和 $Y$ 是独立的，且各自在 $[0,1]$ 上均匀分布。

图形直观理解：随机地、完全均匀地在正方形中选一个点，$X$ 轴和 $Y$ 轴上的位置是互不影响的。

**验证独立性**

对于任意 Borel 集 $A, B \subseteq [0,1]$，我们有：

1. $X \sim \text{Uniform}(0,1)$，所以 $P(X \in A) = \lambda(A)$，其中 $\lambda(A)$ 是 $A$ 的长度
2. $Y \sim \text{Uniform}(0,1)$，所以 $P(Y \in B) = \lambda(B)$，其中 $\lambda(B)$ 是 $B$ 的长度
3. $P(X \in A, Y \in B)$ 是点 $(X,Y)$ 落在区域 $A \times B$ 的概率

因为点在整个正方形中是均匀分布的，所以点落在区域 $A \times B$ 的概率等于该区域的面积除以整个正方形的面积：  
$P(X \in A, Y \in B) = \frac{\text{面积}(A \times B)}{1} = \lambda(A) \times \lambda(B) = P(X \in A) \times P(Y \in B)$

