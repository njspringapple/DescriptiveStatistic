
## 知识点快速一览表

#### 1. 勒贝格密度

满足以下条件的函数：

- **非负性**：$f(x) \in \mathbb{R}_0^+,x \in \mathbb{R}$
- **归一性**：$\int_{-\infty}^{\infty} f(t)dt = 1$
- **Borel可测性**：连续函数，分段连续函数，单调函数等都是Borel可测的，通常这个条件都是自动满足

对于所有的 **Borel 集合** $B \in \mathcal{B}$，以下关系成立：$\mathbb{P}_X(B) = \mathbb{P}(X \in B) = \int_B f(t)dt$，则：

- 随机变量 $X$ 具有 **（绝对）连续（分布）**
- 函数 $f$ 被称为 $X$（或者 $P_X$）的 **密度函数**（更准确地说：勒贝格密度）

例如，标准正态分布中，密度函数 $f(t) = \frac{1}{\sqrt{2\pi}}exp(-\frac{t^2}{2})$，对于任何 Borel集合B，比如区间$[a,b]$，我们有：$P(X \in [a,b]) = \int_a^b \frac{1}{\sqrt{2\pi}}exp(-\frac{t^2}{2}) dt$，这表示 $X$ 的值落在区间 $[a,b]$ 内的概率等于密度函数再该区间上的积分。

**注：如果 $X$ 具有密度，则概率 $\mathbb{P}(a ≤ X ≤ b)$ 可以直观地理解为f的图像与 $x$ 轴之间在区间$[a,b]$上的面积**。

#### 2. 分布函数及密度表达

对于一个实值随机变量 $X$，通过：$F(x) := \mathbb{P}(X \leq x), x \in \mathbb{R}$ 定义的函数 $F:\mathbb{R} \to [0,1]$，被称为 $X$ 的分布函数，可以用密度函数表达为：$F(x) = \mathbb{P}(X \leq x) = \int_{-\infty}^x f(t)dt, x \in \mathbb{R}$

![[1748866330593.png]]

 随机变量 $X$  的分布函数 $F$ 具有**以下性质**：

- **单调性**：从 $x \leq y$ 可以推出 $F(x) \leq F(y)$，（F是单调递增的）
    
- **右连续**：对于每个 $x \in \mathbb{R}$ 和每个序列 $(x_n)$，如果 $x_n ≥ x_n+1，n ≥ 1$，且 $lim_{n \to \infty}x_n = x$，则有 $F(x) = lim_{n \to \infty}F(x_n)$（F是右连续的）
    
- **从0到1**：成立以下等式：
    
    $lim_{n \to -\infty} F(x) = 0, lim_{n \to +\infty} F(x) = 1$

#### 3. 密度函数和分布函数

- 如果随机变量 $X$ 具有分布函数 $F$ 和密度函数 $f$，那么 $F$ 被称为**绝对连续**的，也可以说 $F$ 有密度 $f$，并且：
								$f(x) := F'(x)$




- 在数学中，**Radon-Nikodym 定理** 是测度论中的一个结果，它表示在同一可测量空间上定义的**两个测度之间的关系**。

- 从已经给出的测度中推导出新测度的一种方法是为空间的每个点分配一个密度，然后对感兴趣的**可测量子集进行积分**

						$\nu(A) = \int_A fd\mu$
						
- A  - **任何可测量子集**
- $f$  - **给定点的密度**
- $\mu$  - **现有测度**
- $\nu$  - **新测度**

例如，如果 $f$ 代表质量密度，$\mu$ 代表三维空间的勒贝格测度，那么 $\nu(A)$ 代表空间区域 $A$ 中的总质量。

- 函数 $f$ 称为 **R-N导数**，用 $\frac{d\nu}{d\mu}$ 表示
## 分馅饼

想象一下，有两个小朋友在分馅饼：

- 第一个小朋友按照自己的**方法A**分馅饼，比如他喜欢大的多一点，小的少一点。
- 第二个小朋友按照自己的**方法B**分馅饼，比如他喜欢平均一点。

现在，有人问：能不能找到一个**规则**，告诉我们：**“方法A”其实是“方法B”分出来的每一块，再乘上一个“权重”（比如有的块乘2，有的块乘0.5）？这样我们就能用“方法B”来理解“方法A”了。**

**Radon-Nikodym定理**：在很合适的情况下，如果方法A分的每块饼都不会比方法B漏掉什么（也就是说，B分到0的地方，A也分到0），  那么 **一定能找到一个“权重函数”**，让你通过“方法B”再乘以这个权重，得到“方法A”的分法！

**用更简单的话说**：

- 有两种分馅饼的方法
- 一种分法不会比另一种漏掉馅饼
- 那么你可以找到一个“每块该分多少”的比例，**让你用一种分法变出另一种分法**！

## 测度的密度

>[!example] 回顾概率密度
>在初等概率论中，我们经常遇到概率密度函数(PDF)，对于连续型随机变量 $X$，其概率密度函数 $f(x)$ 满足：
>- $f(x) \geq 0$（非负性）
>- $\int_{-\infty}^{\infty} f(x)dx = 1$（归一化）
>- 对于任意区间 $[a,b]$，$P(a \leq X \leq b) = \int_a^b f(x)dx$
>
>直观理解：$f(x)$ 描述了随机变量 $X$ 在各点取值的"相对可能性"。虽然 $P(X=x) = 0$（单点概率为零），但密度函数值 $f(x)$ 越大，表示 $X$ 在该点附近取值的概率越大。
>
从测度论角度，概率密度函数其实是一个更一般概念的特例：**Radon-Nikodym导数**。

如果 $\mu$ 是Lebesgue测度（可理解为标准的"长度"测度），而 $v$ 是一个概率测度（如随机变量的分布），那么：

想象一个一维空间：

- Lebesgue测度 $\mu$ 测量的是区间的"**长度**"
- 概率测度 $v$ 测量的是"**概率**"
- 对于一个小区间 $[x, x+\Delta x]$：
    - 它的长度（Lebesgue测度）近似为 $\mu([x, x+\Delta x]) \approx \Delta x$
    - 落在这个区间的概率（概率测度）近似为 $v([x, x+\Delta x]) \approx f(x) \cdot \Delta x$

因此，$f(x)$ 表示的是"**单位长度内的概率密度**"，即概率测度 $v$ 相对于长度测度 $\mu$ 的"比值"或"变化率"。

- **概率密度函数** $f$ 就是 $v$ 关于 $\mu$ 的Radon-Nikodym导数：$f = \frac{dv}{d\mu}$
- 此时有 $v(A) = \int_A f(x)dx$ （**计算这个概率的方法是对区域 $A$ 上的密度函数进行积分**）

这意味着：概率密度函数 $f$ 实际上描述了概率测度 $v$ 相对于Lebesgue测度 $\mu$ 的"**变化率**"。

#### **通过可测函数定义新测度**

给定一个可测函数 $f \in M^+$，**A 是可测集**，我们可以定义一个新的测度：（$M^+$ **通常表示非负可测函数的集合**）

			$f \odot \mu : \mathcal{F} \to \overline{\mathbb{R}}$
			$(f \odot \mu)(A) := \int_A fd\mu = \int fI_Ad\mu$
	
$f \odot \mu$ 操作是对原测度 $\mu$ 进行"**加权**"：

- 原测度 $\mu$ 给每个区域分配"测量值"（如长度、面积）
- 函数 $f$ 在不同位置提供不同的"权重"
- 新测度 $(f \odot \mu)(A)$ 计算区域 $A$ 上，经 $f$ 加权后的 $\mu$ 测度值

在概率论中，当 $f$ 是非负且 $\int f d\mu = 1$ 时，$f \odot \mu$ 正是由密度函数 $f$ 定义的概率测度。

>[!note] 密度
>- 设 (Ω, F, µ) 为测度空间且 $f \in M^+$（即 $f$ 为非负可测函数），则 $f \odot \mu$ 称为关于 $\mu$ 具有密度 $f$ 的测度
>- 函数 $f : \Omega \to [0, \infty[$（即取非负值的函数）称为测度 $f \odot \mu$ 的（Radon-Nikodým）密度。
>- $f$ 也被称为 Radon-Nikodým 导数，记作 $\frac{d\nu}{d\mu}$（其中 ν = f ⊙ µ）
#### **测度间的积分转换**

设 $v = f \odot \mu$，则对所有 $g \in M^+$，

			$\int gdv = \int (gf)d\mu$

- 提供了一种计算新测度 $\nu$ 下积分的方法，通过转换为原测度 $\mu$ 下的积分来完成
- 它建立了两个测度 $\nu$ 和 $\mu$ 之间的关系，即 $\nu$ 是绝对连续于 $\mu$ 的，且 $f$ 可视为Radon-Nikodym导数
- 这个结果使我们能够在不同测度下转换积分计算

### 离散概率分布的测度表示形式

设 $μ = μ_Z$ 为计数测度，设 $f(x) = \mathbb{P}(\{x\})$ 是一个离散分布 $\mathbb{P}$ 的**计数密度**，那么：

			$(f \odot \mu_Z)(A) = \int_A f d\mu_Z = \int fI_A d\mu_Z = \sum_{x\in A} f(x) = \mathbb{P}(A)$

因此，计数密度就是关于计数测度的Radon-Nikodým密度，**这个例子阐明了离散概率分布与测度论的联系**，**离散概率分布可以表示为对计数测度的加权**，  $\mathbb{P}=f \odotμ_Z$  是**离散概率分布的测度表示形式**。

### 离散分布的测度表示形式

此外，还有：对于自然数集上的离散分布 $\mathbb{P}$ 定义在测度空间 $(\mathbb{N}, \mathcal{P}(\mathbb{N}))$ 上，其分布函数为：

$F(x) = \sum_{n=1}^x \mathbb{P}(\{n\}) = \sum_{n=1}^x f(n) = \int_{\{1,2,...,x\}} d\mu_z$

**离散随机变量的分布函数与其计数密度之间的关系**：

- 作为点概率的累加：$\sum_{n=1}^{x}\mathbb{P}({n})$
- 作为密度函数的累加：$\sum_{n=1}^{x}f(n)$，其中 $f(n)$ 是计数密度
- 作为在集合 $\{1,...,x\}$ 上相对于计数测度 $\mu_z$ 的密度函数 $f$ 的积分：$\int_{{1,...,x}} f d\mu_Z$

### 控制测度

>[!note] 绝对连续性
>如果对于任何一个μ测度为零的集合，$\nu$ 测度也必为零，那么称 $\nu$ 相对于 $\mu$ 是绝对连续的
>
>若 $\mu$ 和 $\nu$ 是测度空间 $(\Omega,\mathcal{F})$ 上的两个测度，则称 $\nu$ 相对于 $\mu$ 是**绝对连续**的，如果对于任意的 $\mathcal{A} \in \mathcal{F}$ 都有：$\mu(A) = 0 \Rightarrow \nu(A) = 0$，简单记为：$\nu << \mu$，也可以说：$\mu$ 控制 $\nu$
>
>**理解为：体积测度控制了质量测度**


绝对连续性是Radon-Nikodym理论的基础，它确保了一个测度可以用另一个测度的"密度"来表示。

我们考虑概率空间 $(\mathbb{R}, \mathcal{B}, U([0,1]))$（连续均匀分布），Lebesgue 测度 λ 控制 $U([0,1])$，根据定义：

$U([0,1])([c, d[) = \mathbb{P}([c, d[) := \frac{d - c}{1 - 0} = \lambda([c, d[)$

根据测度唯一性定理，该测度由此唯一确定。对于一般的 Borel 集 $B \in \mathcal{B}$，根据测度的性质可得：

$U([0,1])(B) = \mathbb{P}(B) = \lambda(B)$

因此，对于 λ 的零测集，其概率也等于零，所以 λ 控制 $U([0,1])$。  λ 的零测集是单个点及其可数并集。

**定理**：

设 (Ω, ℱ, μ) 是带有σ-有限测度 μ 的测度空间，且 ν 是 (Ω, ℱ) 上的另一个测度，则：

$\nu \ll \mu \Leftrightarrow \exists f \in M^+ : \nu = f \odot \mu$

如果存在另一个函数 g ∈ M+ 使得 ν = g ⊙ μ，那么 g = f 在 μ-几乎处处成立。


#### 概率分布的概率密度积分表示

$(\Omega,\mathcal{F},\mathbb{P})$是一个概率空间

- 设 $\mu$ 是一个测度
- $\mu$ 支配 $\mathbb{P}$（如果 $\mu(A) = 0$，那么 $\mathbb{P}(A) = 0$）

那么：

存在一个 **概率密度函数（PDF）**，简称为 $f$，使得 $\mathbb{P} = f \odot \mu$，也就是说，$\mathbb{P}$ 可以通过 $\mu$ 和密度函数 $f$ 来表示，这个 $f$ 就是 $\mathbb{P}$ 关于 $\mu$ 的 R-N导数，也叫**分布的密度**，具体到 $\mathcal{F} = \mathcal{B}$ （Borel集）时候，分布函数为：

$F(x) = \mathbb{P}((-\infty,x]) = \int_{-\infty,x}fd\mu$

也就是说，**概率分布函数 $F(x)$ 可以用密度函数 $f$ 关于测度 $\mu$ 的积分来表示**

例子：

- $f_1(x) = I_{[0,1]}(x)$
- $F_1(x) = \int_{(-\infty,x]}f_1d\lambda = \int_{(-\infty,x]}I_{[0,1]}d\lambda = \int I_{(-\infty,x]}I_{[0,1]}d\lambda$
	- 当 x < 0，$I_{(-\infty,x]} \cdot I_{[0,1]} = 0$， 所以 $F_1(x) = 0$
	- 当 x >= 0，$f_1(x) = \int_{[0,minx(x,1)]}d\lambda = \int_0^{min(x,1)}1dx$
		- 0 < x < 1，$F_1(x) = x$
		- x >= 1，$F_1(x) = 1$

这个例子说明了**不同的密度函数（虽然形式不同）积分后可能得到相同的分布函数**，这涉及密度函数定义的唯一性——实际上，密度函数在“**几乎处处**”意义下是唯一的，不同的密度可能只在一个“测度为0”的集合上（比如有理数点）不同。

**正态分布：**

设 $X:\Omega \to \mathbb{R}$ 是具有连续密度的随机变量，$f(x) = \frac{1}{\sqrt{2\pi}\sigma} \cdot exp(-\frac{1}{2\sigma^2}(x-\mu)^2)$，对应的分布函数为：

$F(x) = \int_{-\infty}^{\infty}f(y)dy$，那么称 $X$ ~ $N(\mu,\sigma^2), x,\mu \in \mathbb{R}$ 为正态分布

>[!note] 支撑集
>设 $\mathbb{P}$ 是具有密度函数 $f(x)$ 的（任意）分布，则 $T = \{x|f(x) > 0\}$ 是该分布的支撑集

### 离散概率空间

设 (Ω, F, P) 是一个概率空间，如果存在一个（有限或无限）可数集合 $T \in \mathcal{F}$，使得对于所有 $\omega \in T$ 有 $\mathbb{P}({\omega}) > 0$，且 $\mathbb{P}(T) = 1$，则称：

▶ (Ω, F, P) 为离散概率空间 
▶ P 为离散概率测度
▶ T 是 P 的一个可数支撑集
▶ Ω 本身不必是可数的

**几何分布**：

一个事件 A 以概率 p 发生，设随机变量 X 为直到第一次事件 A 发生前的尝试次数（离散等待时间），我们构建一个概率空间，原始概率空间  $(\Omega_1, \mathcal{F}_1, \mathbb{P})$ 是（用 E 表示成功，M 表示失败）：

- $\Omega_1 = \{(E), (M, E), (M, M, E), (M, M, M, E), ...\}$
- $\mathcal{F}_1 = \mathcal{P}(\Omega_1)$
- $\mathbb{P}(\omega) := (1-p)^{x - 1}p$

- $\Omega_2 = \mathbb{R}$
- $\mathcal{F}_2 = \mathcal{B}(Borel)$
- $\mathbb{P}_x := G(p)$ 是几何分布，其支撑集 $T = \mathbb{N}$，密度函数为：

	$f(x) = (1-p)^{x-1}pI_{\mathbb{N}}(x)$，其中，$I_{\mathbb{N}}$ 是自然数的指示函数，当 x 是自然数时候等于1，否则为0

指示函数限制了分布的支撑集，使其仅在有意义的值上非零。通过限制支撑集为自然数，指示函数帮助确保概率总和等于1，这是任何概率分布的基本要求

### 连续分布

一个实值随机变量 X 被称为**连续分布**，如果存在一个非负的 Borel 可测函数 $f : \mathbb{R} \to \mathbb{R}$，具有以下性质：$\int_{-\infty}^{\infty} f(t)dt = 1$，使得：$\mathbb{P}_X(B) = \mathbb{P}(x \in B) = \int_B f(t)dt, B \in \mathcal{B}$，其中，$f$ 被称为 X 或 $\mathbb{P}_X$ 的连续密度。

- $f$ 不必是连续的，但必须存在一个连续函数 $g:\mathbb{R} \to \mathbb{R}$，使得 $f = g \cdot I_{(a,b)}$
- $T = (a, b)$ 是连续分布的支撑集
- 分布函数 $F_{\mathbb{P}}$ 在整个实数轴 ℝ 上是连续的

### 指数分布

设 $X:\Omega \to \mathbb{R}$ 是具有连续密度的随机变量：

- **密度**：

							$f(x) = \lambda \cdot exp(-\lambda x) \cdot I_{\mathbb{R}^+}(x)$

- **分布**：$$F(x) = \begin{cases}
  1 - \exp(-\lambda x) & x > 0 \\
  0 & \text{其他}
\end{cases}$$
- **特性**：**指数分布在零点处不连续**
- **实例**：
	- 电子产品如手机或电脑在购买后的前几天发现制造缺陷的可能性较高
	- 大多数客户只需等待很短时间，长时间等待的情况较少发生
	- 繁忙十字路口的车辆间隔时间多为短暂，长间隔较少出现
	- 信息包的传输时间或处理延迟多数较短


### 测度的奇异性

>[!note] 测度的奇异性
>给定一个测度空间 $(\Omega, \mathcal{F})$，如果存在一个集合 $A \in \mathcal{F}$，使得  $\nu(\Omega \backslash A) = 0$ 且 $μ(A) = 0$，  则称测度 ν 相对于测度 μ 是奇异的

### 魔鬼阶梯函数（Cantor函数）

构造过程：

- 设 $A_0 = [0,1]$
- 递归定义：$A_{n+1} = \frac{1}{3}(A_n \bigcup (2 + A_n))$
- Contor集合C定义为所有这些集合的交集：$C = \bigcap_{n=0}^{\infty}A_n = lim_{n \to \infty}A_n$

Cantor函数是一个特殊的数学函数，它：

- 在整个[0,1]区间上连续增加，从c(0)=0到c(1)=1
- 在Cantor集的补集上（即被"挖掉"的区间上）保持常数值
- 尽管处处连续且单调增加，但其在几乎所有点处的导数都是0

这种行为显得违反直觉，因为函数从0增加到1，**但几乎所有点都不贡献这种增长**（导数为0）。这就是为什么它被称为"**魔鬼阶梯**"，因为它像一个阶梯，但阶梯的每一级都是"无穷小"的。

主要用于理论研究和完善对概率分布分类的理解，**在实际应用中较少直接使用**

### 混合分布

任何概率测度都可以如下分解：$\mathbb{P} = a_D\mathbb{P}_D + a_A\mathbb{P}_A + a_S\mathbb{P}_S$，其中，$a_D,a_A,a_S > 0$ 且 $a_D + a_A + a_S = 1$

- $\mathbb{P}_D$ 是一个离散概率分布
- $\mathbb{P}_A$ 是一个绝对连续的概率分布（相对于Lebesgue测度）
- $\mathbb{P}_S$ 是一个连续奇异概率分布

表明任何概率分布都可以表示为三种基本类型的分布的加权组合：

1. **离散部分**：概率集中在可数个点上
2. **绝对连续部分**：具有概率密度函数，可以通过对密度函数积分来计算概率
3. **连续奇异部分**：连续但不具有密度函数，其支撑集的Lebesgue测度为零（如Cantor分布）

**例子**：

一家智能手机制造商销售延长保修服务。根据多年经验，他们知道比例α > 0的智能手机在此期间不需要任何维修。**维修成本服从指数分布**，期望值为 β 欧元。设X为新售出智能手机的未来维修成本，X 服从什么分布？

我们在 $(\mathbb{R}, \mathcal{B})$上构造一个概率测度 $\mathbb{P}$，有：

- $\mathbb{P}$ 在 $\mathbb{R}^+$ 上是绝对连续的
- $\mathbb{P}(\{0\}) = a > 0$ -- **零成本的概率为a**
- $\mathbb{P}(B) = (1-a) \int_B \frac{1}{\beta}exp(-x/\beta) dx$，对于任何Borel集合 $B \subset (0,\infty)$：  

备注：指数分布的期望是 $E(x) = \frac{1}{\lambda}$，因为 $E(x) = \beta$，所以，$\lambda = \frac{1}{\beta}$

**零膨胀指数分布**

- $\mathbb{P}$ 不被Lebesgue测度所支配：$\lambda({0}) = 0, \mathbb{P}({0}) > 0$，根据 R-N 定理，测度不被支配，无法写出概率密度（$\mathbb{P}$ 对于 $\lambda$）
 - $\mu_Z$ 不适合，因为她不是 $(\mathbb{R},\mathcal{B})$ 上的一个 $\sigma-$有限的测度（实数集上的可数点集是无穷多的）

我们构造一个混合测度 $\mu := \lambda + \delta_0$，$\mu$ 是一个 $\sigma-$有限的测度

。。。



